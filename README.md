# çµæ¨¡ç½‘å…³ (LLMGateway)

ğŸ¯ ä¸€ä¸ªå…è´¹ LLM æ¨¡å‹èšåˆç½‘å…³ï¼Œæ”¯æŒå¤šæ¨¡å‹è‡ªåŠ¨åˆ‡æ¢ã€é¢åº¦ç›‘æ§ã€è¯·æ±‚æ—¥å¿—ç­‰åŠŸèƒ½ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ”„ **å¤šæ¨¡å‹æ”¯æŒ** - OpenAIã€Claudeã€Qwenã€æ™ºè°±æ¸…è¨€ã€é€šä¹‰åƒé—®ç­‰
- ğŸ“Š **é¢åº¦ç›‘æ§** - å®æ—¶ç›‘æ§å„æ¨¡å‹ä½¿ç”¨é¢åº¦ï¼Œé¿å…è¶…æ”¯
- ğŸš€ **è‡ªåŠ¨åˆ‡æ¢** - é¢åº¦è€—å°½è‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªå¯ç”¨æ¨¡å‹
- ğŸ“ **è¯·æ±‚æ—¥å¿—** - å®Œæ•´è®°å½•æ‰€æœ‰ API è¯·æ±‚ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜
- ğŸ”” **é€šçŸ¥é¢„è­¦** - é¢åº¦å³å°†è€—å°½æ—¶åŠæ—¶æé†’
- ğŸ‘¤ **ç”¨æˆ·ç®¡ç†** - ä¸ªäººä¸­å¿ƒã€å¯†ç ä¿®æ”¹
- ğŸ¨ **åŒå‰ç«¯** - Vue 3 + React åŒç‰ˆæœ¬ç®¡ç†åå°

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ·è®¿é—®                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼               â–¼               â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Vue å‰ç«¯ â”‚    â”‚ React å‰ç«¯ â”‚   â”‚ ç½‘å…³ API â”‚
      â”‚ :80     â”‚    â”‚ :88     â”‚    â”‚ :8000   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚               â”‚               â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   Nginx åå‘ä»£ç†     â”‚
                â”‚   (ç»Ÿä¸€å…¥å£)         â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼               â–¼               â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ åç«¯API â”‚    â”‚ ç½‘å…³æœåŠ¡ â”‚    â”‚ SQLite  â”‚
      â”‚ :8000   â”‚    â”‚ :8080   â”‚    â”‚ æ•°æ®åº“   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# Docker å’Œ Docker Compose
docker --version
docker compose version
```

### 2. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/Chyrain/LLMGateway.git
cd LLMGateway
```

### 3. å¯åŠ¨æœåŠ¡ï¼ˆæ¨è Vue ç‰ˆæœ¬ï¼‰

```bash
docker compose up -d
```

### 3. å¯åŠ¨æœåŠ¡ï¼ˆReact ç‰ˆæœ¬ï¼‰

```bash
docker compose up -d frontend-react
```

### 4. è®¿é—®ç®¡ç†åå°

| å‰ç«¯ç‰ˆæœ¬ | åœ°å€ | è¯´æ˜ |
|---------|------|------|
| Vue ç‰ˆ | http://localhost:80 | é»˜è®¤ç‰ˆæœ¬ |
| React ç‰ˆ | http://localhost:88 | å…¨æ–° UI |

**é»˜è®¤è´¦å·**: `admin` / `admin123`

> âš ï¸ **é¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼**

## ğŸ“– ä½¿ç”¨æŒ‡å—

### æ·»åŠ æ¨¡å‹é…ç½®

1. ç™»å½•ç®¡ç†åå°
2. è¿›å…¥ **æ¨¡å‹é…ç½®** é¡µé¢
3. ç‚¹å‡» **æ·»åŠ æ¨¡å‹**
4. å¡«å†™æ¨¡å‹ä¿¡æ¯ï¼š
   - **å‚å•†**: é€‰æ‹©æ¨¡å‹æä¾›å•†ï¼ˆOpenAIã€Claudeã€Qwen ç­‰ï¼‰
   - **æ¨¡å‹åç§°**: å¦‚ `gpt-4o`ã€`claude-3-5-sonnet`
   - **API Key**: åœ¨å„å¹³å°ç”³è¯·çš„ API Key
   - **API Base**: API æ¥å£åœ°å€ï¼ˆå¤§éƒ¨åˆ†å‚å•†å·²é¢„è®¾ï¼‰
   - **ä¼˜å…ˆçº§**: æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼ˆ1 æœ€é«˜ï¼‰
5. ç‚¹å‡» **æµ‹è¯•è¿é€š** éªŒè¯é…ç½®
6. ç‚¹å‡» **å¯ç”¨** æ¿€æ´»æ¨¡å‹

### é…ç½®å‚æ•°è¯´æ˜

| å‚æ•° | å¿…å¡« | è¯´æ˜ |
|-----|------|------|
| å‚å•† | âœ… | æ¨¡å‹æä¾›å•† |
| æ¨¡å‹åç§° | âœ… | å…·ä½“æ¨¡å‹æ ‡è¯† |
| API Key | âœ… | å¹³å°ç”³è¯·çš„å¯†é’¥ |
| API Base | âŒ | å¤§éƒ¨åˆ†å‚å•†å·²é¢„è®¾é»˜è®¤å€¼ |
| ä¼˜å…ˆçº§ | âŒ | é»˜è®¤ 100ï¼Œæ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ |

### ä½¿ç”¨ç½‘å…³ API

```bash
# ç¤ºä¾‹ï¼šè°ƒç”¨ Chat Completions API
curl -X POST "http://localhost:8000/v1/chat/completions" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [{"role": "user", "content": "ä½ å¥½"}]
  }'
```

## ğŸ¨ å‰ç«¯ç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | Vue 3 ç‰ˆæœ¬ | React ç‰ˆæœ¬ |
|------|-----------|-----------|
| UI æ¡†æ¶ | Element Plus 2.x | Ant Design 5.x |
| ç«¯å£ | 80 | 88 |
| çŠ¶æ€ç®¡ç† | ref/reactive | useState/useEffect |
| è·¯ç”± | Vue Router 4 | React Router 6 |
| å›¾è¡¨ | ECharts | ECharts |
| æš—è‰²ä¸»é¢˜ | âœ… | âœ… |
| å“åº”å¼ | âœ… | âœ… |

**æ¨è**: æ–°ç”¨æˆ·æ¨èä½¿ç”¨ Vue ç‰ˆæœ¬ï¼ŒåŠŸèƒ½æ›´å®Œå–„ï¼›React ç‰ˆæœ¬é€‚åˆå‰ç«¯æŠ€æœ¯æ ˆä¸º React çš„å›¢é˜Ÿã€‚

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
LLMGateway/
â”œâ”€â”€ backend/               # åç«¯æœåŠ¡ (FastAPI + Python)
â”‚   â”œâ”€â”€ main.py            # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config/            # é…ç½®æ¨¡å—ï¼ˆæ•°æ®åº“ã€åŠ å¯†ï¼‰
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ routers/           # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth.py        # è®¤è¯æ¥å£
â”‚   â”‚   â”œâ”€â”€ config.py      # é…ç½®æ¥å£
â”‚   â”‚   â”œâ”€â”€ logs.py        # æ—¥å¿—æ¥å£
â”‚   â”‚   â”œâ”€â”€ notifications.py # é€šçŸ¥æ¥å£
â”‚   â”‚   â””â”€â”€ stats.py       # ç»Ÿè®¡æ¥å£
â”‚   â””â”€â”€ services/         # ä¸šåŠ¡é€»è¾‘
â”‚       â”œâ”€â”€ gateway_core.py # ç½‘å…³æ ¸å¿ƒ
â”‚       â””â”€â”€ quota_monitor.py # é¢åº¦ç›‘æ§
â”‚
â”œâ”€â”€ frontend/              # Vue3 å‰ç«¯ (é»˜è®¤)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/          # API æ¥å£å°è£…
â”‚   â”‚   â”œâ”€â”€ views/        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/       # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ store/        # Pinia çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ frontend-react/       # React å‰ç«¯ (ç«¯å£ 88)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ services/     # API æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/        # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â””â”€â”€ styles/       # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ nginx.conf        # Nginx é…ç½®
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ gateway/              # ç½‘å…³æœåŠ¡
â”œâ”€â”€ docs/                 # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/              # è„šæœ¬å·¥å…·
â””â”€â”€ docker-compose.yml    # Docker ç¼–æ’é…ç½®
```

## ğŸ’» æœ¬åœ°å¼€å‘

### åç«¯å¼€å‘

```bash
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
uvicorn main:app --reload

# API æ–‡æ¡£: http://localhost:8000/docs
```

### Vue å‰ç«¯å¼€å‘

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

### React å‰ç«¯å¼€å‘

```bash
cd frontend-react

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

## ğŸ³ Docker éƒ¨ç½²

### ä½¿ç”¨ Docker Compose

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker compose up -d

# åªå¯åŠ¨ Vue å‰ç«¯ï¼ˆé»˜è®¤ï¼‰
docker compose up -d frontend

# åªå¯åŠ¨ React å‰ç«¯
docker compose up -d frontend-react

# åªå¯åŠ¨åç«¯
docker compose up -d backend

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker compose down

# é‡æ–°æ„å»ºï¼ˆä¿®æ”¹é…ç½®åï¼‰
docker compose build --no-cache
```

### å•ç‹¬éƒ¨ç½² React å‰ç«¯

```bash
# æ„å»ºé•œåƒ
docker build -t llmgateway-frontend-react:latest frontend-react/

# è¿è¡Œå®¹å™¨
docker run -d -p 88:80 --name llmgateway-react \
  --network llmgateway-network \
  llmgateway-frontend-react:latest
```

### ç¯å¢ƒå˜é‡é…ç½®

é€šè¿‡ `.env` æ–‡ä»¶ï¼š

```env
# åç«¯é…ç½®
BACKEND_PORT=8000
DB_TYPE=sqlite
DB_PATH=./data/llmgateway.db
ENCRYPT_KEY=your-256-bit-encryption-key-here

# React å‰ç«¯
VITE_API_BASE=/api

# ç½‘å…³
GATEWAY_PORT=8080
```

### ç«¯å£è¯´æ˜

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ | é»˜è®¤å¼€å¯ |
|------|------|------|---------|
| Vue å‰ç«¯ | 80 | ç®¡ç†åå°ï¼ˆé»˜è®¤ï¼‰ | âœ… |
| React å‰ç«¯ | 88 | ç®¡ç†åå°ï¼ˆReactç‰ˆï¼‰ | âœ… |
| åç«¯ API | 8000 | REST API | âœ… |
| ç½‘å…³æœåŠ¡ | 8080 | LLM ç½‘å…³ | âœ… |

## ğŸ“¡ API æ¥å£æ–‡æ¡£

### è®¤è¯æ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|-----|------|------|
| `/api/auth/login` | POST | ç”¨æˆ·ç™»å½• |
| `/api/auth/logout` | POST | é€€å‡ºç™»å½• |
| `/api/auth/profile` | GET | è·å–ç”¨æˆ·ä¿¡æ¯ |
| `/api/auth/change-password` | POST | ä¿®æ”¹å¯†ç  |

### æ¨¡å‹é…ç½®

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|-----|------|------|
| `/api/model/list` | GET | æ¨¡å‹åˆ—è¡¨ |
| `/api/model/add` | POST | æ·»åŠ æ¨¡å‹ |
| `/api/model/{id}` | PUT | æ›´æ–°æ¨¡å‹ |
| `/api/model/{id}` | DELETE | åˆ é™¤æ¨¡å‹ |
| `/api/model/{id}/test` | POST | æµ‹è¯•è¿é€š |
| `/api/model/{id}/enable` | POST | å¯ç”¨æ¨¡å‹ |
| `/api/model/{id}/disable` | POST | ç¦ç”¨æ¨¡å‹ |

### é¢åº¦ç›‘æ§

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|-----|------|------|
| `/api/quota/stat` | GET | é¢åº¦ç»Ÿè®¡ |
| `/api/quota/sync/{modelId}` | POST | åŒæ­¥é¢åº¦ |
| `/api/quota/history` | GET | ä½¿ç”¨å†å² |

### æ—¥å¿—ç®¡ç†

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|-----|------|------|
| `/api/log/list` | GET | æ—¥å¿—åˆ—è¡¨ |
| `/api/log/export` | GET | å¯¼å‡ºæ—¥å¿— |
| `/api/log/clear` | POST | æ¸…ç©ºæ—¥å¿— |

### ç½‘å…³ API

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|-----|------|------|
| `/v1/chat/completions` | POST | Chat Completions |
| `/v1/models` | GET | æ¨¡å‹åˆ—è¡¨ |

## ğŸ”” é€šçŸ¥ç³»ç»Ÿ

ç³»ç»Ÿä¼šåœ¨ä»¥ä¸‹æƒ…å†µå‘é€é€šçŸ¥ï¼š

- âœ… æ¨¡å‹å¯ç”¨æˆåŠŸ
- âš ï¸ æ¨¡å‹é¢åº¦ä½äº 20%
- âŒ æ¨¡å‹é¢åº¦è€—å°½
- ğŸ”„ è‡ªåŠ¨åˆ‡æ¢æ¨¡å‹

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯

- **FastAPI** - é«˜æ€§èƒ½ Python Web æ¡†æ¶
- **SQLAlchemy** - ORM æ•°æ®åº“è®¿é—®
- **SQLite** - è½»é‡çº§æ•°æ®åº“
- **Uvicorn** - ASGI æœåŠ¡å™¨

### å‰ç«¯ï¼ˆVueï¼‰

- **Vue 3** - å‰ç«¯æ¡†æ¶
- **Element Plus** - UI ç»„ä»¶åº“
- **Pinia** - çŠ¶æ€ç®¡ç†
- **Axios** - HTTP å®¢æˆ·ç«¯
- **ECharts** - æ•°æ®å¯è§†åŒ–

### å‰ç«¯ï¼ˆReactï¼‰

- **React 18** - å‰ç«¯æ¡†æ¶
- **Ant Design 5.x** - UI ç»„ä»¶åº“
- **React Router 6** - è·¯ç”±ç®¡ç†
- **Axios** - HTTP å®¢æˆ·ç«¯
- **ECharts** - æ•°æ®å¯è§†åŒ–

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.1.0 (2026-02-05)

- ğŸ¨ **React å‰ç«¯** - æ–°å¢ React + Ant Design ç‰ˆæœ¬
- ğŸ”§ **Nginx ä¿®å¤** - ä¿®å¤ API ä»£ç†é…ç½®é—®é¢˜
- ğŸ“– **æ–‡æ¡£å®Œå–„** - æ›´æ–° README å’Œé¡¹ç›®ç»“æ„
- ğŸ› **Bug ä¿®å¤** - è‹¥å¹²ç»†èŠ‚ä¼˜åŒ–

### v1.0.0 (2026-02-04)

- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ” ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- ğŸ¤– å¤šæ¨¡å‹é…ç½®ç®¡ç†
- ğŸ“Š é¢åº¦ç›‘æ§
- ğŸ“ è¯·æ±‚æ—¥å¿—
- ğŸ”” é€šçŸ¥ç³»ç»Ÿ
- ğŸ¨ Vue 3 ç®¡ç†åå°

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License
