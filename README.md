# çµæ¨¡ç½‘å…³ (LLM Free Quota Gateway)

<div align="center">

![Version](https://img.shields.io/badge/version-1.0.0-blue)
![Python](https://img.shields.io/badge/python-3.10+-green)
![Vue](https://img.shields.io/badge/vue-3.4+-yellow)
![Tests](https://img.shields.io/badge/tests-39%20passed-green)
![License](https://img.shields.io/badge/license-MIT-orange)

**æ ‡å‡†åŒ–OpenAIå…¼å®¹åè®®çš„å¤§æ¨¡å‹å…è´¹é¢åº¦è‡ªåŠ¨åˆ‡æ¢ç½‘å…³**

ç®€ä½“ä¸­æ–‡

</div>

## ğŸ“‹ ç›®å½•

- [äº§å“ç®€ä»‹](#äº§å“ç®€ä»‹)
- [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)
- [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
- [Agentå·¥å…·é€‚é…](#agentå·¥å…·é€‚é…)
- [éƒ¨ç½²æ–‡æ¡£](docs/DEPLOY.md)
- [APIæ–‡æ¡£](docs/API.md)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#è®¸å¯è¯)

## ğŸ¯ äº§å“ç®€ä»‹

**çµæ¨¡ç½‘å…³**æ˜¯ä¸€æ¬¾æ ‡å‡†åŒ–OpenAIå…¼å®¹åè®®çš„å¤§æ¨¡å‹ç»Ÿä¸€æ¥å…¥ç½‘å…³ï¼Œæ ¸å¿ƒè§£å†³ä¸ªäºº/å¼€å‘è€…åˆ©ç”¨å„å®¶å¤§æ¨¡å‹å…è´¹é¢åº¦çš„ç—›ç‚¹ã€‚

é€šè¿‡**ä¸€ç«™å¼å¤§æ¨¡å‹APIé…ç½®ç®¡ç†ã€å®æ—¶é¢åº¦ç›‘æ§ã€é˜ˆå€¼è§¦å‘è‡ªåŠ¨åˆ‡æ¢**èƒ½åŠ›ï¼Œè®©ç”¨æˆ·æ— éœ€æ‰‹åŠ¨å…³æ³¨å„å‚å•†é¢åº¦æ¶ˆè€—ï¼Œå®ç°å¤§æ¨¡å‹æœåŠ¡"æ— æ„Ÿç»­è·‘"ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ”„ **è‡ªåŠ¨åˆ‡æ¢** - é¢åº¦è€—å°½è‡ªåŠ¨åˆ‡æ¢ï¼Œæ— éœ€äººå·¥å¹²é¢„
- ğŸ” **å®‰å…¨åŠ å¯†** - AES-256åŠ å¯†å­˜å‚¨API Key
- ğŸ“Š **å®æ—¶ç›‘æ§** - é¢åº¦æ¶ˆè€—å®æ—¶ç»Ÿè®¡ï¼Œå¤šæ¸ é“å‘Šè­¦
- ğŸ› ï¸ **å¼€ç®±å³ç”¨** - å†…ç½®15+å‚å•†é¢„é…ç½®æ¨¡æ¿
- ğŸ³ **Dockeréƒ¨ç½²** - ä¸€é”®éƒ¨ç½²ï¼Œ5åˆ†é’Ÿä¸Šçº¿
- ğŸ”§ **å·¥å…·é€‚é…** - OpenClawã€Claude Codeã€Cursorä¸€é”®å¯¹æ¥

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šDocker Composeä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/LLMGateway.git
cd LLMGateway

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# è®¿é—®ç®¡ç†å¹³å°
# http://localhost:80
# é»˜è®¤ç®¡ç†å‘˜: admin
# é»˜è®¤å¯†ç : admin123
```

### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘éƒ¨ç½²

#### å‰ç«¯

```bash
cd frontend
npm install
npm run dev
```

#### åç«¯

```bash
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·æµè§ˆå™¨                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯ç®¡ç†å¹³å° (Vue3 + Element Plus)            â”‚
â”‚  ä»ªè¡¨ç›˜ | æ¨¡å‹é…ç½® | é¢åº¦ç›‘æ§ | ç³»ç»Ÿé…ç½® | æ—¥å¿—ç®¡ç† | Agenté€‚é…   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ RESTful API
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åç«¯æœåŠ¡ (FastAPI + Python)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ é…ç½®ç®¡ç†æœåŠ¡ â”‚ â”‚ é¢åº¦ç›‘æ§æœåŠ¡ â”‚ â”‚ æ—¥å¿—æœåŠ¡    â”‚ â”‚ ç»Ÿè®¡å‘Šè­¦   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç½‘å…³æ ¸å¿ƒæœåŠ¡ (OpenAIå…¼å®¹æ¥å£)                  â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    å‚å•†APIè½¬å‘å±‚                         â”‚   â”‚
â”‚   â”‚  OpenAI â”‚ Claude â”‚ Gemini â”‚ æ–‡å¿ƒä¸€è¨€ â”‚ é€šä¹‰åƒé—® â”‚ ...   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å­˜å‚¨ (SQLite/MySQL)                       â”‚
â”‚  model_config | quota_stat | system_config | operation_log      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. æ·»åŠ æ¨¡å‹é…ç½®

1. è¿›å…¥ã€Œæ¨¡å‹é…ç½®ã€é¡µé¢
2. ç‚¹å‡»ã€Œæ·»åŠ æ¨¡å‹ã€
3. é€‰æ‹©å‚å•†æ¨¡æ¿ï¼ˆå¦‚OpenAIã€æ™ºè°±æ¸…è¨€ï¼‰
4. å¡«å…¥API Key
5. ç‚¹å‡»ã€Œæµ‹è¯•è¿é€šæ€§ã€
6. ä¿å­˜å¯ç”¨

### 2. é…ç½®è‡ªåŠ¨åˆ‡æ¢

1. è¿›å…¥ã€Œé¢åº¦ç›‘æ§ã€é¡µé¢
2. è®¾ç½®å…¨å±€åˆ‡æ¢é˜ˆå€¼ï¼ˆé»˜è®¤99%ï¼‰
3. è°ƒæ•´æ¨¡å‹ä¼˜å…ˆçº§ï¼ˆæ‹–æ‹½æ’åºï¼‰
4. å¯ç”¨è‡ªåŠ¨åˆ‡æ¢

### 3. å¯¹æ¥Agentå·¥å…·

å‚è€ƒ [Agentå·¥å…·é€‚é…æŒ‡å—](docs/AGENT_GUIDE.md)

## ğŸ”§ Agentå·¥å…·é€‚é…

### OpenClaw

```yaml
# config.yaml
model:
  provider: openai
  name: gpt-3.5-turbo
  base_url: http://ä½ çš„ç½‘å…³IP:8080/v1
  api_key: gateway_123456
```

### Claude Code

```bash
export ANTHROPIC_API_KEY=gateway_123456
export ANTHROPIC_API_BASE=http://ä½ çš„ç½‘å…³IP:8080/v1
```

### Cursor

åœ¨Settingsä¸­é…ç½®ï¼š
- Custom API Base: `http://ä½ çš„ç½‘å…³IP:8080/v1`
- Custom API Key: `gateway_123456`

è¯¦ç»†æ•™ç¨‹è§ [Agentå·¥å…·é€‚é…æ–‡æ¡£](docs/AGENT_GUIDE.md)

## ğŸ³ éƒ¨ç½²æ–‡æ¡£

### ç¯å¢ƒè¦æ±‚

- Docker Engine 20.10+
- Docker Compose 2.0+
- å†…å­˜: æœ€ä½512MBï¼Œæ¨è1GB+
- ç£ç›˜: æœ€ä½1GB

### é…ç½®è¯´æ˜

ä¿®æ”¹ `docker-compose.yml` ä¸­çš„ç¯å¢ƒå˜é‡ï¼š

```yaml
environment:
  - GATEWAY_PORT=8080
  - API_PORT=8000
  - ENCRYPT_KEY=your-256bit-key
  - DB_TYPE=sqlite  # æˆ– mysql
```

### Nginxåå‘ä»£ç†ï¼ˆå¯é€‰ï¼‰

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:80;
    }

    location /api {
        proxy_pass http://localhost:8000;
    }

    location /v1 {
        proxy_pass http://localhost:8080;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_buffering off;
        proxy_read_timeout 300s;
    }
}
```

## ğŸ“š APIæ–‡æ¡£

### æ ¸å¿ƒæ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/model/list` | GET | è·å–æ¨¡å‹é…ç½®åˆ—è¡¨ |
| `/api/model/add` | POST | æ–°å¢æ¨¡å‹é…ç½® |
| `/api/model/test` | POST | æµ‹è¯•æ¨¡å‹è¿é€šæ€§ |
| `/api/quota/stat` | GET | è·å–é¢åº¦ç»Ÿè®¡ |
| `/api/switch/rule` | POST | é…ç½®è‡ªåŠ¨åˆ‡æ¢è§„åˆ™ |
| `/api/log/list` | GET | è·å–æ—¥å¿—åˆ—è¡¨ |
| `/v1/chat/completions` | POST | OpenAIæ ‡å‡†ç½‘å…³æ¥å£ |

å®Œæ•´APIæ–‡æ¡£: [API Reference](docs/API.md)

## â“ å¸¸è§é—®é¢˜

### Q1: é¢åº¦ä¸ºä»€ä¹ˆä¸è‡ªåŠ¨åŒæ­¥ï¼Ÿ
éƒ¨åˆ†å‚å•†ï¼ˆå¦‚OpenAIã€Anthropicï¼‰æ”¯æŒè‡ªåŠ¨åŒæ­¥ï¼Œå…¶ä»–å‚å•†éœ€è¦æ‰‹åŠ¨å½•å…¥é¢åº¦ã€‚

### Q2: è¿ç§»æ•°æ®ä¼šä¸¢å¤±å—ï¼Ÿ
æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œè¿ç§»å¤±è´¥å¯é‡æ–°æ‰§è¡Œï¼Œä¸ä¼šä¸¢å¤±å·²æˆåŠŸè¿ç§»çš„æ•°æ®ã€‚

### Q3: å¦‚ä½•å‡çº§ç‰ˆæœ¬ï¼Ÿ
```bash
git pull
docker-compose down
docker-compose up -d
```

æ›´å¤šé—®é¢˜: [FAQ](docs/FAQ.md)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºåˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ”¹åŠ¨ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [OpenAI](https://openai.com) - Chat Completions APIæ ‡å‡†
- [Vue.js](https://vuejs.org) - å‰ç«¯æ¡†æ¶
- [FastAPI](https://fastapi.tiangolo.com) - åç«¯æ¡†æ¶
- [Element Plus](https://element-plus.org) - UIç»„ä»¶åº“

---

<div align="center">

**è®©å¤§æ¨¡å‹æœåŠ¡æ›´æ™®æƒ **

Made with â¤ï¸ by LLMGateway Team

</div>
